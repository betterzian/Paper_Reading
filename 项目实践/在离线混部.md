# kubernetes的QoS模型：  
Guaranteed : 当 Pod 中所有 Container 的 request == limit 时  
Burstable : 当 Pod 中存在 Container 的 request != limit 时  
BestEffort : 当 Pod 中所有 Container 均未设置 request, limit 时  
# SLI、SLO、SLA
SLI 服务水平指示器（英文：Service Level Indicator）对于业务来说是最重要的指标。比如，对于网站来说，一个常见的SLI是请求得到正常响应的百分比。  
SLO 服务水平目标（英文：Service Level Indicator）是围绕SLI构建的目标。通常是一个百分比，并与一个时间范围挂钩。比如，月度、季度、年度等。通常用一连串9来度量。如果脱离了时间的度量，SLO的意义就不大了。  
```
90%（1个9的正常运行时间）：这意味着10%的停机时间，也就是说在过去的30天里停机了3天。
99%（2个9的正常运行时间）：意味着在过去30天中有1%，或者说7.2小时的停机时间。
99.9%（3个9的正常运行时间）：意味着0.1%，或者说43.2分钟的停机时间。
99.95%（3.5个9的正常运行时间）：意味着0.05%，或者说21.6分钟的停机时间。
99.99%（4个9的正常运行时间）：意味着0.01%，或者说4.32分钟的停机时间。
99.999%（5个9的正常运行时间）：意味着0.001%，或者说26秒的停机时间。
```
SLA 服务级别协议（英语：service-level agreement）也称服务等级协议、服务水平协议，是服务提供商与客户之间定义的正式承诺。服务提供商与受服务用户之间具体达成了承诺的服务指标——质量、可用性，责任。是企业围绕SLO发布的协议。它要求在不满足SLO时向客户补偿的协议。  
# 在离线业务划分
从业务是否一直在线的角度看，其类型可分为在线作业和离线作业。  
在线作业：一般运行时间长，服务流量呈周期性，资源存在潮汐现象，但对服务SLA要求较高，如广告业务、电商业务等。  
离线作业：往往运行时间短，计算需求大，可容忍较高的时延，如AI/大数据业务。   
# pod pending
pod一直卡在pending状态意味着pod不能被调度到节点上，通常是因为没有足够的资源导致调度被阻止了
。  
# 静态调度
任务分配离线进行，即在任务开始执行之前已经安排好了处理机和时间，主要用于周期任务的调度。  
优点：能够预先安排好调动，减少任务调度过程中的开销。  
缺点：缺乏灵活性，不能及时根据系统资源和任务执行情况进行及时调整。  
# 动态调度
适用于非周期性任务，任务的到达是随机的。任务的分派和可调度性测试都是在系统运行时在线进行的。  
优点：具有更好的灵活性。  
缺点：调度算法的复杂度不能太高。并且由于无法保证是否可以被调度，算法的可预测性很差。  
# OOM 内存溢出
内存溢出(Out Of Memory，简称OOM)是指应用系统中存在无法回收的内存或使用的内存过多，最终使得程序运行要用到的内存大于能提供的最大内存。
# 可观测性
通过检查系统输出来衡量系统内部状态的能力。从具体输出项来看，一般包括 metric、trace、log 三种方式，是系统健康运行的基石。
存在的困难：
```
云原生的体系，决定了服务能力和服务规模随时都在动态调整，所以端上数据收集 、传输的成本大大增加，极端情况下甚至对服务本身性能造成侵扰。   
可观测性输出要形成决策意义，需要基于一些维度进行归并、拟合、建模等操作，包括使用决策树到 AI 学习等一系列分析动作。在大服务体量和实时变动的背景下，可观测性输出的分析时延、准确性都面临很大挑战。   
可观测性的可视化以及延展关联分析 (BI 报表等)，需要根据业务形态和需求进行深度定制，复杂性较高，缺乏直接能用的工具和手段。   
```
# metrics tracing logging
```
Tracing: 提供了一个请求从接收到处理完毕整个生命周期的跟踪路径，通常请求都是在分布式的系统中处理，所以也叫做分布式链路追踪。   
Metrics: 提供量化的系统内/外部各个维度的指标，一般包括Counter、Gauge、Histogram等。   
Logging: 提供系统/进程最精细化的信息，例如某个关键变量、事件、访问记录等。   
```
